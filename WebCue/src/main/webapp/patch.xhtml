<!DOCTYPE html>
<html
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:cues="http://java.sun.com/jsf/composite/cues"
>
	<h:body>
		<ui:composition template="/template/layouts/one.xhtml">
			<ui:define name="title">Welcome | Powered by Twitter Bootstrap</ui:define>
			
			<ui:define name="main">
				<h:form id="patchform">
					<h1>Patch</h1>
					<div style="width:500px">
						<div>
							<p:commandButton
								actionListener="#{patchBean.commitPatch}" 
								value="Save Patch"/>
						</div>
						
						<p:dataTable id="patchTable" value="#{patchBean.patch}" var="channel" editable="true" editMode="cell" widgetVar="patchTable">
						 	<p:ajax event="rowEdit" listener="#{patchBean.onRowEdit}" update=":patchform" />
						 	
							<p:column headerText="Channel">
								#{channel.id}
							</p:column>
							<p:column headerText="Address">
								<p:cellEditor>
			                   		<f:facet name="output"><h:outputText value="#{channel.patch}" /></f:facet>
				                   	<f:facet name="input">
										<p:inputText value="#{channel.patch}" style="width:96%">
											<f:convertNumber integerOnly="true"/>
         								</p:inputText>
				                   	</f:facet>
			               		</p:cellEditor>
							</p:column>
							<p:column headerText="Label">
								<p:cellEditor>
				                   <f:facet name="output"><h:outputText value="#{channel.label}" /></f:facet>
				                   <f:facet name="input"><p:inputText value="#{channel.label}" style="width:96%"/></f:facet>
			               		</p:cellEditor>
							</p:column>
						</p:dataTable>
					</div>
					
				</h:form>
			</ui:define>
		</ui:composition>
	</h:body>
</html>